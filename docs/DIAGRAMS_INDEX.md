# üìä –ò–Ω–¥–µ–∫—Å –¥–∏–∞–≥—Ä–∞–º–º Adaptive Entity Manager

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é –¥–∏–∞–≥—Ä–∞–º–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Adaptive Entity Manager! –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –≤—Å–µ–º –¥–∏–∞–≥—Ä–∞–º–º–∞–º –ø—Ä–æ–µ–∫—Ç–∞.

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

Adaptive Entity Manager ‚Äî —ç—Ç–æ –≥–∏–±–∫–∞—è PHP ORM –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö, Value Objects, –∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- üîÑ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
- üíé **Value Objects** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π
- üé≠ **–°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π** –¥–ª—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π
- üöÄ **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üì¶ **Unit of Work** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- üîß **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ñ–∞–±—Ä–∏–∫–∏

## üìö –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º

### 1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã](./ARCHITECTURE_DIAGRAMS.md)
**–û–±—â–∏–π –æ–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∏ –µ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

```mermaid
mindmap
  root((–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞))
    Core Layer
      AdaptiveEntityManager
      UnitOfWork
      Config
    Persistence Layer
      EntityPersister
      DataAdapters
      TransactionalConnection
    Metadata System
      ClassMetadataFactory
      ClassMetadataProvider
      ClassMetadata
    Value Objects
      ValueObjectInterface
      ValueObjectConverter
      ValueObjectRegistry
    Events & Caching
      EventDispatcher
      CacheSystem
```

**–í–∫–ª—é—á–∞–µ—Ç:**
- üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- üîÑ Entity Manager –∏ –µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- üìä Unit of Work Pattern
- üîå Data Adapter System
- üíé Value Object System
- üì° Event System –∏ Lifecycle
- üóÉÔ∏è Metadata System

### 2. [–î–∏–∞–≥—Ä–∞–º–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π](./INTERACTION_DIAGRAMS.md)
**–î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

```mermaid
journey
    title –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å —Å—É—â–Ω–æ—Å—Ç—å—é
    section –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      –°–æ–∑–¥–∞–Ω–∏–µ EntityManager: 5: Client
      –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: 4: System
    section –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
      –ü–æ–∏—Å–∫ —Å—É—â–Ω–æ—Å—Ç–∏: 5: Client
      –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: 4: Client
      –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π: 3: Client
    section –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
      –ö–æ–º–º–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: 2: System
      –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞: 1: System
```

**–í–∫–ª—é—á–∞–µ—Ç:**
- üöÄ –ü—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Entity Manager
- üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å—É—â–Ω–æ—Å—Ç–∏
- üîç –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
- üíæ –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–º–º–∏—Ç–∞ (flush)
- üîÑ Value Object Conversion Flow
- üóÉÔ∏è Caching Strategy
- ‚ö†Ô∏è Error Handling –∏ Exception Flow

### 3. [–î–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤](./CLASS_DIAGRAMS.md)
**UML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏**

```mermaid
graph LR
    subgraph "–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã"
        A[Entity Manager] --> B[Unit of Work]
        A --> C[Metadata System]
        A --> D[Repository Layer]
    end
    
    subgraph "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã"
        E[Data Adapters] --> F[Value Objects]
        G[Event System] --> H[Cache System]
    end
    
    A --> E
    B --> G
    C --> H
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style E fill:#e8f5e8
    style F fill:#fff3e0
```

**–í–∫–ª—é—á–∞–µ—Ç:**
- üèõÔ∏è Core Entity Manager Classes
- üìä Metadata System Classes
- üîå Data Adapter Classes
- üíæ Persistence Layer Classes
- üíé Value Object Classes
- üì¶ Repository Classes
- üì° Event System Classes
- üóÉÔ∏è Cache Classes
- üè≠ Factory Classes
- ‚ö†Ô∏è Exception Classes

## üó∫Ô∏è –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–±–æ—Ç—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º:
1. –ù–∞—á–Ω–∏—Ç–µ —Å [–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –¥–∏–∞–≥—Ä–∞–º–º](./ARCHITECTURE_DIAGRAMS.md) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. –ò–∑—É—á–∏—Ç–µ [–¥–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤](./CLASS_DIAGRAMS.md) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [–¥–∏–∞–≥—Ä–∞–º–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π](./INTERACTION_DIAGRAMS.md) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –î–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤ –∏ –≤–µ–¥—É—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã](./ARCHITECTURE_DIAGRAMS.md) ‚Üí –û–±—â–µ–µ –≤–∏–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
2. [–î–∏–∞–≥—Ä–∞–º–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π](./INTERACTION_DIAGRAMS.md) ‚Üí –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
3. [–î–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤](./CLASS_DIAGRAMS.md) ‚Üí –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –î–ª—è DevOps –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
1. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚Üí [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã](./ARCHITECTURE_DIAGRAMS.md)
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Üí [–î–∏–∞–≥—Ä–∞–º–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π](./INTERACTION_DIAGRAMS.md)
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Üí [–î–∏–∞–≥—Ä–∞–º–º—ã –∫–ª–∞—Å—Å–æ–≤](./CLASS_DIAGRAMS.md)

## üîç –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –¥–∏–∞–≥—Ä–∞–º–º

| –¢–µ–º–∞ | –§–∞–π–ª | –î–∏–∞–≥—Ä–∞–º–º–∞ |
|------|------|-----------|
| –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | [ARCHITECTURE_DIAGRAMS.md](./ARCHITECTURE_DIAGRAMS.md) | #1 |
| Unit of Work | [ARCHITECTURE_DIAGRAMS.md](./ARCHITECTURE_DIAGRAMS.md) | #3 |
| –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö | [ARCHITECTURE_DIAGRAMS.md](./ARCHITECTURE_DIAGRAMS.md) | #4 |
| Value Objects | [ARCHITECTURE_DIAGRAMS.md](./ARCHITECTURE_DIAGRAMS.md) | #5 |
| –°–æ–±—ã—Ç–∏—è | [ARCHITECTURE_DIAGRAMS.md](./ARCHITECTURE_DIAGRAMS.md) | #6 |
| –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | [INTERACTION_DIAGRAMS.md](./INTERACTION_DIAGRAMS.md) | #1 |
| –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª | [INTERACTION_DIAGRAMS.md](./INTERACTION_DIAGRAMS.md) | #2 |
| –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ | [INTERACTION_DIAGRAMS.md](./INTERACTION_DIAGRAMS.md) | #3 |
| –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–º–º–∏—Ç–∞ | [INTERACTION_DIAGRAMS.md](./INTERACTION_DIAGRAMS.md) | #4 |
| –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | [INTERACTION_DIAGRAMS.md](./INTERACTION_DIAGRAMS.md) | #6 |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | [INTERACTION_DIAGRAMS.md](./INTERACTION_DIAGRAMS.md) | #7 |
| –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã | [CLASS_DIAGRAMS.md](./CLASS_DIAGRAMS.md) | #1 |
| –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö | [CLASS_DIAGRAMS.md](./CLASS_DIAGRAMS.md) | #2 |
| –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è | [CLASS_DIAGRAMS.md](./CLASS_DIAGRAMS.md) | #4 |
| –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ | [CLASS_DIAGRAMS.md](./CLASS_DIAGRAMS.md) | #6 |

## üìã –õ–µ–≥–µ–Ω–¥–∞ —Å–∏–º–≤–æ–ª–æ–≤

| –°–∏–º–≤–æ–ª | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| üèóÔ∏è | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ |
| üîÑ | –ü—Ä–æ—Ü–µ—Å—Å—ã –∏ —Ü–∏–∫–ª—ã |
| üíæ | –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ |
| üîç | –ü–æ–∏—Å–∫ –∏ –∑–∞–ø—Ä–æ—Å—ã |
| üì° | –°–æ–±—ã—Ç–∏—è –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ |
| üóÉÔ∏è | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| ‚ö†Ô∏è | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |
| üîß | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ |
| üíé | Value Objects |
| üì¶ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –º–æ–¥—É–ª–∏ |

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –¥–∏–∞–≥—Ä–∞–º–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–ò–∑—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞** –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `examples/`
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ—Å—Ç—ã** –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tests/` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –≤ —Ñ–∞–π–ª–∞—Ö `VALUE_OBJECTS.md`, `CACHING.md`, `TESTING.md`
4. **–ò–∑—É—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥** –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/`

## üìû –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–∏–∞–≥—Ä–∞–º–º–∞–º –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –∏—Ö —É–ª—É—á—à–µ–Ω–∏—é, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

*–î–∏–∞–≥—Ä–∞–º–º—ã —Å–æ–∑–¥–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Mermaid.js –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –≤ GitHub/GitLab.* 